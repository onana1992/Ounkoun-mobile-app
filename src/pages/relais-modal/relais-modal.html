<ion-header>

  <ion-navbar  color="header-color">
  <ion-buttons left>
        <button ion-button icon-only (click)="viewCtrl.dismiss()" class="my-style-for-modal">
            <ion-icon name="arrow-back"></ion-icon>
        </button>
   </ion-buttons>
    <ion-title><span style=" font-size:16px;"> Choix du point de relais</span></ion-title>
  </ion-navbar>

</ion-header>



<ion-content  padding style="background-color:#f5f5f5;">

	<div *ngIf="isLoading">
		<ion-row >
			<ion-col style="text-align:center; text-color:gray;margin-top:30px;">
					<br/>
					<img src="assets/imgs/loading.gif" height="80%" width="80%">
			</ion-col>
		</ion-row>
	</div>
    
    <div *ngIf="!isLoading">
		<ion-row style="margin-top: 10px; margin-bottom: 10px;">
			<div class="col-12" style="">Choisir un point de relais</div>
		</ion-row>
		<ion-row>
			<ion-col center col-12 style="text-align:center;border-right: 1px solid #f5f5f5;background-color: white;">
				<ion-list >
					<ion-item text-wrap no-lines>
						<ion-label>Choisir votre ville:</ion-label>
						<ion-select [(ngModel)]="ville">
							<ion-option *ngFor="let val of relais" [value]="val" >
								{{val.ville}}
							</ion-option>
						</ion-select>
					</ion-item>
					<ion-item text-wrap no-lines>
						<ion-label>Choisir un point de relais:</ion-label>
							<ion-select [(ngModel)]="point" (ngModelChange)="changeRelais()">
							<ion-option *ngFor="let val of ville.relais" [value]="val"  >
								{{val.nom}}
							</ion-option>
						</ion-select>
					</ion-item>
				</ion-list>
			</ion-col>
		</ion-row>
	
		<ion-row style="margin-top: 30px; margin-bottom: 10px;">
			<div class="col-12" style="">Detail sur le point de relais choisi</div>
		</ion-row>
  
		<ion-row >
			<ion-col center col-12 style="text-align:center;background-color: white; min-height: 200px;">

				<ion-list *ngIf="point">

				  <ion-item text-wrap no-lines style=" border-bottom: 1px solid gray;"> 
				  	<span  style="width: 50%;" item-start>Point de relais:</span>  
				  	<span >{{point.nom}}</span>
				  </ion-item>

				  <ion-item text-wrap no-lines style=" border-bottom: 1px solid gray;"> 
				  	<span style="width: 50%;" item-start>Quartier:</span>  
				  	<span >{{point.quartier}}</span>
				  </ion-item>

				  <ion-item text-wrap no-lines style="border-bottom: 1px solid gray;"> 
				  	<span style="width: 50%;" item-start>Emplacement:</span>  
				  	<span  >{{point.emplacement}}</span>
				  </ion-item>

				  <ion-item text-wrap no-lines style="border-bottom: 1px solid gray;"> 
				  	<span style="width: 50%;" item-start>DÃ©lai de la livraison:</span>  
				  	<span  >{{ville.delai}} heures</span>
				  </ion-item>

				  <ion-item text-wrap no-lines style="border-bottom: 1px solid gray;"> 
				  	<span style="width: 50%;" item-start>Montant de votre livraison:</span>  
				  	<span  >{{montantLivraison}} FCFA </span>
				  </ion-item>

				   
				  <button (click)="close()" ion-button color="costom-orange"  style=";color:white; margin-top: 10px;"> Selectionner ce point de relais
				  </button>
				   
				</ion-list>

				<div class="row" *ngIf="!point">
					<div class="col-12" style="margin-top: 40px; color: gray;"> 
						Aucun point de relais choisis, choissez un point de relais
					</div>
				</div>

			</ion-col>
		</ion-row>
	</div>



</ion-content>
